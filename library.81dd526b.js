function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},l={},d={},n=t.parcelRequire34ff;null==n&&((n=function(e){if(e in l)return l[e].exports;if(e in d){var t=d[e];delete d[e];var n={id:e,exports:{}};return l[e]=n,t.call(n.exports,n,n.exports),n.exports}var a=Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){d[e]=t},t.parcelRequire34ff=n),n("bUb57"),n("4Ek1l");var a=n("170nP"),i=n("hmX5O"),s=n("8nTeF"),o=n("gjiCh"),r=n("76tat"),f=n("l9dPk"),u=n("kD6p4"),c=n("b3SuP"),v=n("2eUFK");let E=1;function g(e){(0,f.default).moviesListEl.insertAdjacentHTML("beforeend",e.map(i.default).join("")),f.default.moviesListEl.dataset.page=E,(0,r.default)()}async function h(){let e=await (0,o.default)((0,u.loadMovies)(9));if(0===e.length){(0,f.default).emptyLibEl.classList.remove("is-hidden"),(0,f.default).libCatalogEl.classList.add("is-hidden");return}e.length<9&&(0,f.default).loadMoreBtnEl.classList.add("is-hidden"),g(e);let t=document.querySelector(".list-movie-card.js-gallery");t.addEventListener("click",e=>{let t=e.target.closest(".m-modal");if(!t)return;let l=t.dataset.id;(0,c.onOpenModalFilmById)(l)})}function p(e){let t=f.default.moviesListEl.childNodes,l=e.target.value;"-1"===l?t.forEach(e=>e.classList.remove("is-hidden")):t.forEach(e=>{e.dataset.genres.split(",").includes(l)?e.classList.remove("is-hidden"):e.classList.add("is-hidden")})}async function L(){!function(){f.default.genresSelectEl.customSelect.value="-1";let e=new Event("change");(0,f.default).genresSelectEl.dispatchEvent(e)}();let e=await (0,o.default)((0,u.loadMovies)(9,E));e.length<9&&(0,f.default).loadMoreBtnEl.classList.add("is-hidden"),E+=1,g(e)}window.addEventListener("DOMContentLoaded",function(){(0,s.default)(e(v).genres,f.default.genresSelectEl),h();let t=e(a)(f.default.genresSelectEl)[0];t.select.addEventListener("change",p),(0,f.default).loadMoreBtnEl.addEventListener("click",L)}),n("1Hrz4"),n("5kw5v");
//# sourceMappingURL=library.81dd526b.js.map
