{"mappings":"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","sources":["<anon>","src/catalog.js","src/js/catalog_page/index.js","src/js/catalog_page/section_catalog.js","src/js/utils/pagination.js","src/js/api/catalogAPI.js","src/js/catalog_page/catalog-refs.js","src/js/catalog_page/section_hero.js","src/js/catalog_page/section_catalog_searh.js"],"sourcesContent":["function $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\nvar $parcel$global =\ntypeof globalThis !== 'undefined'\n  ? globalThis\n  : typeof self !== 'undefined'\n  ? self\n  : typeof window !== 'undefined'\n  ? window\n  : typeof global !== 'undefined'\n  ? global\n  : {};\nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequire34ff\"];\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequire34ff\"] = parcelRequire;\n}\nparcelRequire(\"bUb57\");\n\nvar $7Y9D8 = parcelRequire(\"7Y9D8\");\n\nvar $2shzp = parcelRequire(\"2shzp\");\n\nvar $76tat = parcelRequire(\"76tat\");\n\nvar $hmX5O = parcelRequire(\"hmX5O\");\n/*eslint no-magic-numbers: \"off\"*/ class $087e10b062fdf91b$export$2e2bcd8739ae039 {\n    pageCount = 0;\n    pageIndex = 0;\n    container = null;\n    constructor({ container: container , count: count , index: index , callback: callback  }){\n        this.pageCount = count;\n        this.pageIndex = index;\n        this.container = container;\n        this.callBack = callback;\n        this.render = this.render.bind(this);\n        this.handlePaginationItemClick = this.handlePaginationItemClick.bind(this);\n        this.render();\n        document.addEventListener(\"click\", this.handlePaginationItemClick);\n    }\n    render() {\n        let liTag = \"\";\n        let active = \"\";\n        let beforePage = this.pageIndex - 1;\n        let afterPage = this.pageIndex + 1;\n        if (this.pageCount > 1) //show the next button if the page value is greater than 1\n        liTag += `<li class=\"btn prev list-item\"><span><i class=\"fas fa-angle-left\"></i>&lsaquo;</span></li>`;\n        // disable Prev button if page is 1\n        // disable Next button if page is exceeds total pages\n        if (this.pageIndex < 1 || this.pageIndex > this.pageCount) return;\n        if (this.pageIndex > 2 && this.pageCount > 4) {\n            //if page value is less than 2 then add 1 after the previous button\n            liTag += `<li data-index=\"1\" class=\"first list-item\"><span>1</span></li>`;\n            if (this.pageIndex > 3 && this.pageCount > 5) //if page value is greater than 3 then add this (...) after the first li or page\n            liTag += `<li class=\"dots\"><span>...</span></li>`;\n        }\n        // how many pages or li show before the current li\n        if (this.pageIndex === this.pageCount) beforePage = beforePage - 2;\n        else if (this.pageIndex === this.pageCount - 1) beforePage = beforePage - 1;\n        // how many pages or li show after the current li\n        if (this.pageIndex === 1) afterPage = afterPage + 2;\n        else if (this.pageIndex === 2) afterPage = afterPage + 1;\n        for(let plength = beforePage; plength <= afterPage; plength++){\n            if (plength > this.pageCount) continue;\n            if (plength < 0) plength = 0;\n            if (plength === 0) //if plength is 0 than add +1 in plength value\n            plength = plength + 1;\n            if (this.pageIndex === plength) //if page is equal to plength than assign active = '' string in the active variable\n            active = \"active\";\n            else //else leave empty to the active variable\n            active = \"\";\n            liTag += `<li data-index=\"${plength}\" class=\"list-item ${active}\"><span>${plength}</span></li>`;\n        }\n        if (this.pageIndex < this.pageCount - 1) {\n            //if page value is less than totalPage value by -1 then show the last li or page\n            if (this.pageIndex < this.pageCount - 2 && this.pageCount > 5) //if page value is less than totalPage value by -2 then add this (...) before the last li or page\n            liTag += `<li class=\"dots\"><span>...</span></li>`;\n            if (this.pageCount > 4) liTag += `<li data-index=\"${this.pageCount}\" class=\"last list-item\"><span>${this.pageCount}</span></li>`;\n        }\n        if (this.pageCount > 1) //show the next button if the page value is less than totalPage\n        liTag += `<li class=\"btn next list-item\"><span>&rsaquo;<i class=\"fas fa-angle-right\"></i></span></li>`;\n        if (this.container) this.container.innerHTML = liTag;\n    }\n    async handlePaginationItemClick(e) {\n        e.stopPropagation();\n        const target = e.target;\n        const anchorEl = target.closest(\".list-item\");\n        const isButton = anchorEl?.classList.contains(\"btn\") || false;\n        const isPrev = anchorEl?.classList.contains(\"prev\") || false;\n        if (isButton) {\n            if (this.pageIndex < this.pageCount && !isPrev) this.setPageIndex(this.pageIndex + 1);\n            else if (this.pageIndex > 1 && isPrev) this.setPageIndex(this.pageIndex - 1);\n            else if (this.pageIndex === this.pageCount && !isPrev) anchorEl.disabled = true;\n            this.callBack(this.pageIndex);\n            $087e10b062fdf91b$var$scrollToAnchor();\n            return;\n        }\n        if (anchorEl) {\n            const dataIndex = parseInt(anchorEl.dataset.index, 10);\n            this.setPageIndex(dataIndex);\n            this.callBack(dataIndex);\n            $087e10b062fdf91b$var$scrollToAnchor();\n        }\n    }\n    setPageIndex(newIndex) {\n        this.pageIndex = newIndex;\n        this.render();\n    }\n}\nconst $087e10b062fdf91b$var$gallery = document.querySelector(\".gallery\");\nfunction $087e10b062fdf91b$var$scrollToAnchor() {\n    $087e10b062fdf91b$var$gallery.scrollIntoView({\n        behavior: \"smooth\",\n        block: \"start\",\n        inline: \"start\"\n    });\n}\n\n\nconst $e4aae32cc10e173d$export$61abde59b50deb8e = \"https://api.themoviedb.org/3/\";\nconst $e4aae32cc10e173d$export$a9861bd62f48e142 = \"eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI5NWQzY2MzZDA1Nzk2OGE0YWJlZGY1MzVkOGNiZDIwMiIsInN1YiI6IjY0N2EzNjI3Y2FlZjJkMDExOWJmMDc3ZiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Vnk9Mx4FCU9-aMju8ubwqMt0iiZWjWxQo-T3KlsNAWg\";\n\n\nconst $e053999f534376c9$export$21666b427502ea6d = {\n    form: document.querySelector(\"#search-form\"),\n    searchInput: document.querySelector('[name=\"searchQuery\"]'),\n    gallery: document.querySelector(\".gallery\"),\n    clearBtn: document.querySelector(\".clear-btn\"),\n    yearSelectEl: document.getElementById(\"year-select\"),\n    paginationContainer: document.querySelector(\".pagination ul\"),\n    genreSelectEl: document.getElementById(\"genres-select\")\n};\n\n\n\nvar $b3SuP = parcelRequire(\"b3SuP\");\nconst $7a6b00a54970495b$var$MAX_PAGES = 197;\nasync function $7a6b00a54970495b$export$ebdddf351d9dc415(currentPage) {\n    try {\n        const { data: data  } = await (0, $2shzp.default).get(`${(0, $e4aae32cc10e173d$export$61abde59b50deb8e)}trending/all/week?language=en-US&page=${currentPage}`, {\n            headers: {\n                Authorization: `Bearer ${(0, $e4aae32cc10e173d$export$a9861bd62f48e142)}`,\n                accept: \"application/json\"\n            }\n        });\n        return data;\n    } catch (error) {\n        (0, $7Y9D8.Notify).failure(\"Sorry, there are no movies matching your search query. Please try again.\");\n    }\n}\nfunction $7a6b00a54970495b$export$c7eae9ef3fea9888(movies) {\n    return movies.map((movie)=>{\n        if (movie.release_date) return (0, $hmX5O.default)(movie);\n        return \"\";\n    }).join(\"\");\n}\nfunction $7a6b00a54970495b$var$noMovie() {\n    (0, $e053999f534376c9$export$21666b427502ea6d).paginationContainer.innerHTML = \"\";\n    (0, $e053999f534376c9$export$21666b427502ea6d).gallery.innerHTML = `\n    <div class=\"gallery-empty\"\n        <p class=\"text-empty\">OOPS...<br>\n        We are very sorry!<br>\n        We don’t have any results matching your search.\n        </p>\n    </div>   \n    `;\n}\nasync function $7a6b00a54970495b$export$40ef33f78a23b708(currentPage) {\n    try {\n        let result = await $7a6b00a54970495b$export$ebdddf351d9dc415(currentPage);\n        const addingMovies = $7a6b00a54970495b$export$c7eae9ef3fea9888(result.results);\n        (0, $e053999f534376c9$export$21666b427502ea6d).gallery.innerHTML = addingMovies;\n        (0, $76tat.default)();\n        if (result.total_results === 0) return $7a6b00a54970495b$var$noMovie();\n    } catch (error) {\n        console.error(error);\n    }\n}\n$7a6b00a54970495b$var$initGalleryOfWeek();\nasync function $7a6b00a54970495b$var$initGalleryOfWeek() {\n    try {\n        let result = await $7a6b00a54970495b$export$ebdddf351d9dc415(1);\n        const addingMovies = $7a6b00a54970495b$export$c7eae9ef3fea9888(result.results);\n        (0, $e053999f534376c9$export$21666b427502ea6d).gallery.innerHTML = addingMovies;\n        // START Добавляем слушателя для открытия модалки\n        const catalog = document.querySelector(\"#anchor\");\n        catalog.addEventListener(\"click\", (e)=>{\n            const closestId = e.target.closest(\".m-modal\");\n            if (!closestId) return;\n            const movieId = closestId.dataset.id;\n            (0, $b3SuP.onOpenModalFilmById)(movieId);\n        });\n        // END\n        (0, $76tat.default)();\n        if (result.total_results === 0) return $7a6b00a54970495b$var$noMovie();\n        $7a6b00a54970495b$var$paginationWeek(result);\n    } catch (error) {\n        console.error(error);\n    }\n}\nfunction $7a6b00a54970495b$var$paginationWeek(props) {\n    new (0, $087e10b062fdf91b$export$2e2bcd8739ae039)({\n        container: (0, $e053999f534376c9$export$21666b427502ea6d).paginationContainer,\n        count: Math.min(props.total_pages, $7a6b00a54970495b$var$MAX_PAGES),\n        index: 1,\n        callback: $7a6b00a54970495b$export$40ef33f78a23b708\n    });\n}\n\n\n\nvar $e0qAQ = parcelRequire(\"e0qAQ\");\n\nvar $3OIsu = parcelRequire(\"3OIsu\");\n\nvar $bh4hP = parcelRequire(\"bh4hP\");\n\nvar $b3SuP = parcelRequire(\"b3SuP\");\nconst $78fe2973ed2fbe55$var$MAX_TRENDING_MOVIES = 20;\nconst $78fe2973ed2fbe55$var$NUMBER_OF_STARS = 10;\nconst $78fe2973ed2fbe55$var$TABLET_WIDTH = 768;\nconst $78fe2973ed2fbe55$export$94b3db241f8f748e = async ()=>{\n    let markup = \"\";\n    let posterStyle = \"background-size: cover\";\n    const randomNum = Math.floor(Math.random() * $78fe2973ed2fbe55$var$MAX_TRENDING_MOVIES);\n    try {\n        const { results: results  } = await (0, $e0qAQ.fetchTrendingMoviesByDay)();\n        const { id: id , title: title , overview: overview , backdrop_path: backdrop_path , vote_average: vote_average  } = results[randomNum];\n        const ratingValue = vote_average * $78fe2973ed2fbe55$var$NUMBER_OF_STARS;\n        const posterUrl = `https://image.tmdb.org/t/p/original/${backdrop_path}`;\n        if (window.innerWidth < $78fe2973ed2fbe55$var$TABLET_WIDTH) posterStyle = \"background-size: 768px; background-position: center\";\n        markup = `\n      <div class=\"hero__wrap\" style=\"background: linear-gradient(86.77deg, #111111 30.38%, rgba(17, 17, 17, 0) 65.61%), url(${posterUrl}); ${posterStyle}; background-repeat: no-repeat;\">\n        <div class=\"container\">\n          <div class=\"hero__inner\" >\n            <h1 class=\"hero__title\">${title}</h1>\n            <div class=\"hrating\">\n              <div class=\"hrating__body\">\n                <div class=\"hrating__active\" style=\"width: ${ratingValue}%;\"></div>\n                <div class=\"hrating__items\">\n                  <input type=\"radio\" class=\"hrating__item\" value=\"1\" name=\"rating\" />\n                  <input type=\"radio\" class=\"hrating__item\" value=\"2\" name=\"rating\" />\n                  <input type=\"radio\" class=\"hrating__item\" value=\"3\" name=\"rating\" />\n                  <input type=\"radio\" class=\"hrating__item\" value=\"4\" name=\"rating\" />\n                  <input type=\"radio\" class=\"hrating__item\" value=\"5\" name=\"rating\" />\n                </div>\n              </div>\n            </div>\n            <p class=\"hero__text hero__text--trunc\">\n              ${overview}\n            </p>\n            <div class=\"hero__btns\" id=\"${id}\">\n              <button id=\"watch-trailer\" class=\"hero__btn hero__btn--primary hero__btn--watch-trailer\" data-movie-id=\"${id}\">Watch trailer</button>\n              <button class=\"hero__btn hero__btn--secondary m-modal data-movie-id=\"${id}\" data-id=\"${id}\">More details</button>\n            </div>\n          </div>\n        </div>\n      </div>`;\n        (0, $bh4hP.heroRefs).heroContainer.innerHTML = markup;\n        const trailerBtn = document.getElementById(\"watch-trailer\");\n        trailerBtn.addEventListener(\"click\", (e)=>(0, $3OIsu.onTrailerBtnClick)(e));\n        const movieInfoBtn = document.querySelector(\".hero__btn.m-modal\");\n        // movieInfoBtn.addEventListener('click', e => onOpenModalFilm(e));\n        movieInfoBtn.addEventListener(\"click\", ()=>(0, $b3SuP.onOpenModalFilmById)(movieInfoBtn.dataset.id));\n    } catch (error) {\n        (0, $bh4hP.heroRefs).heroContainer.classList.toggle(\"hero--bg\");\n        markup = `\n      <div class=\"hero__wrap\">\n        <div class=\"container\">\n          <div class=\"hero__inner\">\n            <h1 class=\"hero__title hero__title--default\">Let’s Make Your Own Cinema</h1>\n            <p class=\"hero__text\">\n              Is a guide to creating a personalized movie theater experience.\n              You'll need a projector, screen, and speakers.\n              <span class=\"hero__text--add\">Decorate your space, choose your films, and stock up on snacks for the full experience.</span>\n            </p>\n\n            <div class=\"hero__btns\">\n              <a href=\"./catalog.html\">\n                <button class=\"hero__btn hero__btn--primary\">\n                  Get Started\n                </button>\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>`;\n        (0, $bh4hP.heroRefs).heroContainer.innerHTML = markup;\n    }\n};\n$78fe2973ed2fbe55$export$94b3db241f8f748e();\n\n\n\nvar $7Y9D8 = parcelRequire(\"7Y9D8\");\n\nvar $170nP = parcelRequire(\"170nP\");\n\nvar $2shzp = parcelRequire(\"2shzp\");\n\nvar $76tat = parcelRequire(\"76tat\");\n\n\n\nvar $8nTeF = parcelRequire(\"8nTeF\");\n\n\n\n\nvar $2eUFK = parcelRequire(\"2eUFK\");\nconst $ec8a3b4d967c5bee$var$LAST_YEAR = 2023;\nconst $ec8a3b4d967c5bee$var$FIRST_YEAR = 1895;\nconst $ec8a3b4d967c5bee$var$MAX_PAGES = 197;\nlet $ec8a3b4d967c5bee$var$formData = \"\";\nlet $ec8a3b4d967c5bee$var$yearParam = \"\";\nconst $ec8a3b4d967c5bee$var$years = [];\nfor(let year = $ec8a3b4d967c5bee$var$LAST_YEAR; year >= $ec8a3b4d967c5bee$var$FIRST_YEAR; year -= 1)$ec8a3b4d967c5bee$var$years.push({\n    id: year,\n    name: year\n});\n(0, $8nTeF.default)($ec8a3b4d967c5bee$var$years, (0, $e053999f534376c9$export$21666b427502ea6d).yearSelectEl);\nconst $ec8a3b4d967c5bee$var$yearSelect = (0, (/*@__PURE__*/$parcel$interopDefault($170nP)))((0, $e053999f534376c9$export$21666b427502ea6d).yearSelectEl)[0];\n$ec8a3b4d967c5bee$var$yearSelect.select.addEventListener(\"change\", $ec8a3b4d967c5bee$var$filterMoviesYear);\n(0, $8nTeF.default)((0, (/*@__PURE__*/$parcel$interopDefault($2eUFK))).genres, (0, $e053999f534376c9$export$21666b427502ea6d).genreSelectEl);\nconst $ec8a3b4d967c5bee$var$genresSelect = (0, (/*@__PURE__*/$parcel$interopDefault($170nP)))((0, $e053999f534376c9$export$21666b427502ea6d).genreSelectEl)[0];\nfunction $ec8a3b4d967c5bee$var$filterMoviesByGenre(evt) {\n    const movies = (0, $e053999f534376c9$export$21666b427502ea6d).gallery.childNodes;\n    let filter = evt.target.value;\n    if (filter === \"-1\") movies.forEach((movie)=>movie.classList.remove(\"is-hidden\"));\n    else movies.forEach((movie)=>{\n        movie.dataset.genres.split(\",\").includes(filter) ? movie.classList.remove(\"is-hidden\") : movie.classList.add(\"is-hidden\");\n    });\n}\n$ec8a3b4d967c5bee$var$genresSelect.select.addEventListener(\"change\", $ec8a3b4d967c5bee$var$filterMoviesByGenre);\nfunction $ec8a3b4d967c5bee$var$filterMoviesYear(evt) {\n    let year = evt.target.value;\n    $ec8a3b4d967c5bee$var$yearParam = `&primary_release_year=${year}`;\n}\nfunction $ec8a3b4d967c5bee$var$noMovie() {\n    (0, $e053999f534376c9$export$21666b427502ea6d).paginationContainer.innerHTML = \"\";\n    (0, $e053999f534376c9$export$21666b427502ea6d).gallery.innerHTML = `\n    <div class=\"gallery-empty\"\n        <p class=\"text-empty\">OOPS...<br>\n        We are very sorry!<br>\n        We don’t have any results matching your search.\n        </p>\n    </div>   \n    `;\n}\nasync function $ec8a3b4d967c5bee$var$fetchMoviesSearch(currentPage) {\n    try {\n        const { data: data  } = await (0, $2shzp.default).get(`${(0, $e4aae32cc10e173d$export$61abde59b50deb8e)}search/movie?query=${$ec8a3b4d967c5bee$var$formData}&page=${currentPage}${$ec8a3b4d967c5bee$var$yearParam}`, {\n            headers: {\n                Authorization: `Bearer ${(0, $e4aae32cc10e173d$export$a9861bd62f48e142)}`,\n                accept: \"application/json\"\n            }\n        });\n        return data;\n    } catch (error) {\n        (0, (/*@__PURE__*/$parcel$interopDefault($7Y9D8))).Notify.failure(\"Sorry, there are no images matching your search query. Please try again.\");\n    }\n}\nfunction $ec8a3b4d967c5bee$var$paginationSearh(props) {\n    new (0, $087e10b062fdf91b$export$2e2bcd8739ae039)({\n        container: (0, $e053999f534376c9$export$21666b427502ea6d).paginationContainer,\n        count: Math.min(props.total_pages, $ec8a3b4d967c5bee$var$MAX_PAGES),\n        index: 1,\n        callback: $ec8a3b4d967c5bee$var$searchMovie\n    });\n}\nasync function $ec8a3b4d967c5bee$var$searchMovie(currentPage) {\n    try {\n        const result = await $ec8a3b4d967c5bee$var$fetchMoviesSearch(currentPage);\n        const addingMovies = (0, $7a6b00a54970495b$export$c7eae9ef3fea9888)(result.results);\n        if (result.total_results === 0) return $ec8a3b4d967c5bee$var$noMovie();\n        (0, $e053999f534376c9$export$21666b427502ea6d).gallery.innerHTML = addingMovies;\n        (0, $76tat.default)();\n    } catch (error) {\n        console.error(error);\n    }\n}\nasync function $ec8a3b4d967c5bee$var$initSearchMovie() {\n    try {\n        const result = await $ec8a3b4d967c5bee$var$fetchMoviesSearch(1);\n        const addingMovies = (0, $7a6b00a54970495b$export$c7eae9ef3fea9888)(result.results);\n        if (result.total_results === 0) return $ec8a3b4d967c5bee$var$noMovie();\n        $ec8a3b4d967c5bee$var$paginationSearh(result);\n        (0, $e053999f534376c9$export$21666b427502ea6d).gallery.innerHTML = addingMovies;\n        (0, $76tat.default)();\n    } catch (error) {\n        console.error(error);\n    }\n}\nfunction $ec8a3b4d967c5bee$var$inputSubmit(event) {\n    event.preventDefault();\n    (0, $e053999f534376c9$export$21666b427502ea6d).gallery.innerHTML = \"\";\n    $ec8a3b4d967c5bee$var$formData = (0, $e053999f534376c9$export$21666b427502ea6d).searchInput.value.trim();\n    if ($ec8a3b4d967c5bee$var$formData === \"\" || $ec8a3b4d967c5bee$var$formData === \" \") {\n        (0, $7a6b00a54970495b$export$40ef33f78a23b708)();\n        return (0, (/*@__PURE__*/$parcel$interopDefault($7Y9D8))).Notify.failure(\"Type something, please.\");\n    }\n    $ec8a3b4d967c5bee$var$initSearchMovie();\n}\nfunction $ec8a3b4d967c5bee$var$clearInput() {\n    (0, $e053999f534376c9$export$21666b427502ea6d).searchInput.addEventListener(\"input\", function() {\n        if ((0, $e053999f534376c9$export$21666b427502ea6d).searchInput.value) (0, $e053999f534376c9$export$21666b427502ea6d).clearBtn.classList.add(\"is-active\");\n        if ((0, $e053999f534376c9$export$21666b427502ea6d).searchInput.value === \"\" || (0, $e053999f534376c9$export$21666b427502ea6d).searchInput.value === \" \") {\n            (0, $e053999f534376c9$export$21666b427502ea6d).clearBtn.classList.remove(\"is-active\");\n            (0, $7a6b00a54970495b$export$40ef33f78a23b708)();\n        }\n    });\n    (0, $e053999f534376c9$export$21666b427502ea6d).clearBtn.addEventListener(\"click\", function() {\n        (0, $e053999f534376c9$export$21666b427502ea6d).searchInput.value = \"\";\n        (0, $e053999f534376c9$export$21666b427502ea6d).clearBtn.classList.remove(\"is-active\");\n        (0, $e053999f534376c9$export$21666b427502ea6d).gallery.innerHTML = \"\";\n        (0, $7a6b00a54970495b$export$40ef33f78a23b708)(1);\n    });\n}\n$ec8a3b4d967c5bee$var$clearInput();\n(0, $e053999f534376c9$export$21666b427502ea6d).form.addEventListener(\"submit\", $ec8a3b4d967c5bee$var$inputSubmit);\n\n\n\n\nparcelRequire(\"1Hrz4\");\nparcelRequire(\"5kw5v\");\n\n\n//# sourceMappingURL=catalog.03c5c804.js.map\n","import './js/header';\n\nimport './js/catalog_page';\n\nimport './js/modals';\n\nimport './js/go_to_top_btn';\n","import './section_catalog';\nimport './section_hero';\nimport './section_catalog_searh';\n","import { Notify } from 'notiflix';\nimport axios from 'axios';\nimport initRatings from '../utils/initRating';\nimport movieCardMarkup from '../markup/movieCardMarkup';\nimport Pagination from '../utils/pagination';\nimport { API_KEY, URL } from '../api/catalogAPI';\nimport { refs } from './catalog-refs';\nimport { onOpenModalFilmById } from '../modals/modal_film.js';\n\nconst MAX_PAGES = 197;\n\nexport async function fetchMoviesOfWeek(currentPage) {\n  try {\n    const { data } = await axios.get(\n      `${URL}trending/all/week?language=en-US&page=${currentPage}`,\n      {\n        headers: {\n          Authorization: `Bearer ${API_KEY}`,\n          accept: 'application/json',\n        },\n      }\n    );\n    return data;\n  } catch (error) {\n    Notify.failure(\n      'Sorry, there are no movies matching your search query. Please try again.'\n    );\n  }\n}\n\nexport function buildGallery(movies) {\n  return movies\n    .map(movie => {\n      if (movie.release_date) return movieCardMarkup(movie);\n      return '';\n    })\n    .join('');\n}\n\nfunction noMovie() {\n  refs.paginationContainer.innerHTML = '';\n  refs.gallery.innerHTML = `\n    <div class=\"gallery-empty\"\n        <p class=\"text-empty\">OOPS...<br>\n        We are very sorry!<br>\n        We don’t have any results matching your search.\n        </p>\n    </div>   \n    `;\n}\n\nexport async function galleryOfWeek(currentPage) {\n  try {\n    let result = await fetchMoviesOfWeek(currentPage);\n    const addingMovies = buildGallery(result.results);\n    refs.gallery.innerHTML = addingMovies;\n    initRatings();\n    if (result.total_results === 0) {\n      return noMovie();\n    }\n  } catch (error) {\n    console.error(error);\n  }\n}\n\ninitGalleryOfWeek();\n\nasync function initGalleryOfWeek() {\n  try {\n    let result = await fetchMoviesOfWeek(1);\n    const addingMovies = buildGallery(result.results);\n    refs.gallery.innerHTML = addingMovies;\n\n    // START Добавляем слушателя для открытия модалки\n    const catalog = document.querySelector('#anchor');\n    catalog.addEventListener('click', e => {\n      const closestId = e.target.closest('.m-modal');\n      if (!closestId) return;\n      const movieId = closestId.dataset.id;\n      onOpenModalFilmById(movieId);\n    });\n    // END\n\n    initRatings();\n    if (result.total_results === 0) {\n      return noMovie();\n    }\n    paginationWeek(result);\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nfunction paginationWeek(props) {\n  new Pagination({\n    container: refs.paginationContainer,\n    count: Math.min(props.total_pages, MAX_PAGES),\n    index: 1,\n    callback: galleryOfWeek,\n  });\n}\n","/*eslint no-magic-numbers: \"off\"*/\nexport default class Pagination {\n  pageCount = 0;\n  pageIndex = 0;\n  container = null;\n\n  constructor({ container, count, index, callback }) {\n    this.pageCount = count;\n    this.pageIndex = index;\n    this.container = container;\n    this.callBack = callback;\n\n    this.render = this.render.bind(this);\n    this.handlePaginationItemClick = this.handlePaginationItemClick.bind(this);\n\n    this.render();\n\n    document.addEventListener('click', this.handlePaginationItemClick);\n  }\n\n  render() {\n    let liTag = '';\n    let active = '';\n    let beforePage = this.pageIndex - 1;\n    let afterPage = this.pageIndex + 1;\n\n    if (this.pageCount > 1) {\n      //show the next button if the page value is greater than 1\n      liTag += `<li class=\"btn prev list-item\"><span><i class=\"fas fa-angle-left\"></i>&lsaquo;</span></li>`;\n    }\n\n    // disable Prev button if page is 1\n    // disable Next button if page is exceeds total pages\n    if (this.pageIndex < 1 || this.pageIndex > this.pageCount) return;\n\n    if (this.pageIndex > 2 && this.pageCount > 4) {\n      //if page value is less than 2 then add 1 after the previous button\n      liTag += `<li data-index=\"1\" class=\"first list-item\"><span>1</span></li>`;\n      if (this.pageIndex > 3 && this.pageCount > 5) {\n        //if page value is greater than 3 then add this (...) after the first li or page\n        liTag += `<li class=\"dots\"><span>...</span></li>`;\n      }\n    }\n\n    // how many pages or li show before the current li\n    if (this.pageIndex === this.pageCount) {\n      beforePage = beforePage - 2;\n    } else if (this.pageIndex === this.pageCount - 1) {\n      beforePage = beforePage - 1;\n    }\n    // how many pages or li show after the current li\n    if (this.pageIndex === 1) {\n      afterPage = afterPage + 2;\n    } else if (this.pageIndex === 2) {\n      afterPage = afterPage + 1;\n    }\n\n    for (let plength = beforePage; plength <= afterPage; plength++) {\n      if (plength > this.pageCount) {\n        //if plength is greater than totalPage length then continue\n        continue;\n      }\n      if (plength < 0) {\n        plength = 0;\n      }\n\n      if (plength === 0) {\n        //if plength is 0 than add +1 in plength value\n        plength = plength + 1;\n      }\n\n      if (this.pageIndex === plength) {\n        //if page is equal to plength than assign active = '' string in the active variable\n        active = 'active';\n      } else {\n        //else leave empty to the active variable\n        active = '';\n      }\n\n      liTag += `<li data-index=\"${plength}\" class=\"list-item ${active}\"><span>${plength}</span></li>`;\n    }\n\n    if (this.pageIndex < this.pageCount - 1) {\n      //if page value is less than totalPage value by -1 then show the last li or page\n      if (this.pageIndex < this.pageCount - 2 && this.pageCount > 5) {\n        //if page value is less than totalPage value by -2 then add this (...) before the last li or page\n        liTag += `<li class=\"dots\"><span>...</span></li>`;\n      }\n\n      if (this.pageCount > 4) {\n        liTag += `<li data-index=\"${this.pageCount}\" class=\"last list-item\"><span>${this.pageCount}</span></li>`;\n      }\n    }\n\n    if (this.pageCount > 1) {\n      //show the next button if the page value is less than totalPage\n      liTag += `<li class=\"btn next list-item\"><span>&rsaquo;<i class=\"fas fa-angle-right\"></i></span></li>`;\n    }\n    if (this.container) {\n      this.container.innerHTML = liTag;\n    }\n  }\n\n  async handlePaginationItemClick(e) {\n    e.stopPropagation();\n    const target = e.target;\n    const anchorEl = target.closest('.list-item');\n    const isButton = anchorEl?.classList.contains('btn') || false;\n    const isPrev = anchorEl?.classList.contains('prev') || false;\n\n    if (isButton) {\n      if (this.pageIndex < this.pageCount && !isPrev) {\n        this.setPageIndex(this.pageIndex + 1);\n      } else if (this.pageIndex > 1 && isPrev) {\n        this.setPageIndex(this.pageIndex - 1);\n      } else if (this.pageIndex === this.pageCount && !isPrev) {\n        anchorEl.disabled = true;\n      }\n\n      this.callBack(this.pageIndex);\n      scrollToAnchor();\n      return;\n    }\n\n    if (anchorEl) {\n      const dataIndex = parseInt(anchorEl.dataset.index, 10);\n      this.setPageIndex(dataIndex);\n\n      this.callBack(dataIndex);\n      scrollToAnchor();\n    }\n  }\n\n  setPageIndex(newIndex) {\n    this.pageIndex = newIndex;\n    this.render();\n  }\n}\n\nconst gallery = document.querySelector('.gallery');\n\nfunction scrollToAnchor() {\n  gallery.scrollIntoView({\n    behavior: 'smooth',\n    block: 'start',\n    inline: 'start',\n  });\n}\n","export const URL = 'https://api.themoviedb.org/3/';\nexport const API_KEY =\n  'eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI5NWQzY2MzZDA1Nzk2OGE0YWJlZGY1MzVkOGNiZDIwMiIsInN1YiI6IjY0N2EzNjI3Y2FlZjJkMDExOWJmMDc3ZiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Vnk9Mx4FCU9-aMju8ubwqMt0iiZWjWxQo-T3KlsNAWg';\n","export const refs = {\n  form: document.querySelector('#search-form'),\n  searchInput: document.querySelector('[name=\"searchQuery\"]'),\n  gallery: document.querySelector('.gallery'),\n  clearBtn: document.querySelector('.clear-btn'),\n  yearSelectEl: document.getElementById('year-select'),\n  paginationContainer: document.querySelector('.pagination ul'),\n  genreSelectEl: document.getElementById('genres-select'),\n};\n","import { fetchTrendingMoviesByDay } from '../api/fetch-api.js';\nimport { onTrailerBtnClick } from '../modals/modal_trailer.js';\nimport { heroRefs } from '../refs/hero-refs.js';\n// import { onOpenModalFilm } from '../modals/modal_film.js';\nimport { onOpenModalFilmById } from '../modals/modal_film.js';\n\nconst MAX_TRENDING_MOVIES = 20;\nconst NUMBER_OF_STARS = 10;\nconst TABLET_WIDTH = 768;\n\nexport const markupRandomTrendingMovie = async () => {\n  let markup = '';\n  let posterStyle = 'background-size: cover';\n  const randomNum = Math.floor(Math.random() * MAX_TRENDING_MOVIES);\n\n  try {\n    const { results } = await fetchTrendingMoviesByDay();\n    const { id, title, overview, backdrop_path, vote_average } =\n      results[randomNum];\n    const ratingValue = vote_average * NUMBER_OF_STARS;\n    const posterUrl = `https://image.tmdb.org/t/p/original/${backdrop_path}`;\n\n    if (window.innerWidth < TABLET_WIDTH) {\n      posterStyle = 'background-size: 768px; background-position: center';\n    }\n\n    markup = `\n      <div class=\"hero__wrap\" style=\"background: linear-gradient(86.77deg, #111111 30.38%, rgba(17, 17, 17, 0) 65.61%), url(${posterUrl}); ${posterStyle}; background-repeat: no-repeat;\">\n        <div class=\"container\">\n          <div class=\"hero__inner\" >\n            <h1 class=\"hero__title\">${title}</h1>\n            <div class=\"hrating\">\n              <div class=\"hrating__body\">\n                <div class=\"hrating__active\" style=\"width: ${ratingValue}%;\"></div>\n                <div class=\"hrating__items\">\n                  <input type=\"radio\" class=\"hrating__item\" value=\"1\" name=\"rating\" />\n                  <input type=\"radio\" class=\"hrating__item\" value=\"2\" name=\"rating\" />\n                  <input type=\"radio\" class=\"hrating__item\" value=\"3\" name=\"rating\" />\n                  <input type=\"radio\" class=\"hrating__item\" value=\"4\" name=\"rating\" />\n                  <input type=\"radio\" class=\"hrating__item\" value=\"5\" name=\"rating\" />\n                </div>\n              </div>\n            </div>\n            <p class=\"hero__text hero__text--trunc\">\n              ${overview}\n            </p>\n            <div class=\"hero__btns\" id=\"${id}\">\n              <button id=\"watch-trailer\" class=\"hero__btn hero__btn--primary hero__btn--watch-trailer\" data-movie-id=\"${id}\">Watch trailer</button>\n              <button class=\"hero__btn hero__btn--secondary m-modal data-movie-id=\"${id}\" data-id=\"${id}\">More details</button>\n            </div>\n          </div>\n        </div>\n      </div>`;\n\n    heroRefs.heroContainer.innerHTML = markup;\n\n    const trailerBtn = document.getElementById('watch-trailer');\n    trailerBtn.addEventListener('click', e => onTrailerBtnClick(e));\n\n    const movieInfoBtn = document.querySelector('.hero__btn.m-modal');\n    // movieInfoBtn.addEventListener('click', e => onOpenModalFilm(e));\n    movieInfoBtn.addEventListener('click', () =>\n      onOpenModalFilmById(movieInfoBtn.dataset.id)\n    );\n  } catch (error) {\n    heroRefs.heroContainer.classList.toggle('hero--bg');\n    markup = `\n      <div class=\"hero__wrap\">\n        <div class=\"container\">\n          <div class=\"hero__inner\">\n            <h1 class=\"hero__title hero__title--default\">Let’s Make Your Own Cinema</h1>\n            <p class=\"hero__text\">\n              Is a guide to creating a personalized movie theater experience.\n              You'll need a projector, screen, and speakers.\n              <span class=\"hero__text--add\">Decorate your space, choose your films, and stock up on snacks for the full experience.</span>\n            </p>\n\n            <div class=\"hero__btns\">\n              <a href=\"./catalog.html\">\n                <button class=\"hero__btn hero__btn--primary\">\n                  Get Started\n                </button>\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>`;\n\n    heroRefs.heroContainer.innerHTML = markup;\n  }\n};\n\nmarkupRandomTrendingMovie();\n","import Notiflix from 'notiflix';\nimport customSelect from 'custom-select';\nimport axios from 'axios';\nimport initRatings from '../utils/initRating';\nimport 'custom-select/build/custom-select.css';\nimport { buildGallery, galleryOfWeek } from './section_catalog';\nimport populateOptions from '../utils/populateOptions';\nimport Pagination from '../utils/pagination';\nimport { API_KEY, URL } from '../api/catalogAPI';\nimport { refs } from './catalog-refs';\nimport dataGenres from '../genres.json';\n\nconst LAST_YEAR = 2023;\nconst FIRST_YEAR = 1895;\nconst MAX_PAGES = 197;\n\nlet formData = '';\nlet yearParam = '';\n\nconst years = [];\n\nfor (let year = LAST_YEAR; year >= FIRST_YEAR; year -= 1) {\n  years.push({\n    id: year,\n    name: year,\n  });\n}\n\npopulateOptions(years, refs.yearSelectEl);\nconst yearSelect = customSelect(refs.yearSelectEl)[0];\nyearSelect.select.addEventListener('change', filterMoviesYear);\n\npopulateOptions(dataGenres.genres, refs.genreSelectEl);\nconst genresSelect = customSelect(refs.genreSelectEl)[0];\n\nfunction filterMoviesByGenre(evt) {\n  const movies = refs.gallery.childNodes;\n  let filter = evt.target.value;\n\n  if (filter === '-1') {\n    movies.forEach(movie => movie.classList.remove('is-hidden'));\n  } else {\n    movies.forEach(movie => {\n      movie.dataset.genres.split(',').includes(filter)\n        ? movie.classList.remove('is-hidden')\n        : movie.classList.add('is-hidden');\n    });\n  }\n}\n\ngenresSelect.select.addEventListener('change', filterMoviesByGenre);\n\nfunction filterMoviesYear(evt) {\n  let year = evt.target.value;\n  yearParam = `&primary_release_year=${year}`;\n}\n\nfunction noMovie() {\n  refs.paginationContainer.innerHTML = '';\n  refs.gallery.innerHTML = `\n    <div class=\"gallery-empty\"\n        <p class=\"text-empty\">OOPS...<br>\n        We are very sorry!<br>\n        We don’t have any results matching your search.\n        </p>\n    </div>   \n    `;\n}\n\nasync function fetchMoviesSearch(currentPage) {\n  try {\n    const { data } = await axios.get(\n      `${URL}search/movie?query=${formData}&page=${currentPage}${yearParam}`,\n      {\n        headers: {\n          Authorization: `Bearer ${API_KEY}`,\n          accept: 'application/json',\n        },\n      }\n    );\n    return data;\n  } catch (error) {\n    Notiflix.Notify.failure(\n      'Sorry, there are no images matching your search query. Please try again.'\n    );\n  }\n}\n\nfunction paginationSearh(props) {\n  new Pagination({\n    container: refs.paginationContainer,\n    count: Math.min(props.total_pages, MAX_PAGES),\n    index: 1,\n    callback: searchMovie,\n  });\n}\n\nasync function searchMovie(currentPage) {\n  try {\n    const result = await fetchMoviesSearch(currentPage);\n    const addingMovies = buildGallery(result.results);\n    if (result.total_results === 0) {\n      return noMovie();\n    }\n    refs.gallery.innerHTML = addingMovies;\n    initRatings();\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nasync function initSearchMovie() {\n  try {\n    const result = await fetchMoviesSearch(1);\n    const addingMovies = buildGallery(result.results);\n    if (result.total_results === 0) {\n      return noMovie();\n    }\n\n    paginationSearh(result);\n    refs.gallery.innerHTML = addingMovies;\n    initRatings();\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nfunction inputSubmit(event) {\n  event.preventDefault();\n  refs.gallery.innerHTML = '';\n  formData = refs.searchInput.value.trim();\n  if (formData === '' || formData === ' ') {\n    galleryOfWeek();\n    return Notiflix.Notify.failure('Type something, please.');\n  }\n  initSearchMovie();\n}\n\nfunction clearInput() {\n  refs.searchInput.addEventListener('input', function () {\n    if (refs.searchInput.value) {\n      refs.clearBtn.classList.add('is-active');\n    }\n    if (refs.searchInput.value === '' || refs.searchInput.value === ' ') {\n      refs.clearBtn.classList.remove('is-active');\n      galleryOfWeek();\n    }\n  });\n  refs.clearBtn.addEventListener('click', function () {\n    refs.searchInput.value = '';\n    refs.clearBtn.classList.remove('is-active');\n    refs.gallery.innerHTML = '';\n    galleryOfWeek(1);\n  });\n}\n\nclearInput();\n\nrefs.form.addEventListener('submit', inputSubmit);\n"],"names":["$parcel$interopDefault","a","__esModule","default","$parcel$global","globalThis","self","window","global","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","$7Y9D8","$2shzp","$76tat","$hmX5O","$087e10b062fdf91b$export$2e2bcd8739ae039","pageCount","pageIndex","container","constructor","count","index","callback","callBack","render","bind","handlePaginationItemClick","document","addEventListener","liTag","beforePage","afterPage","plength","innerHTML","e","stopPropagation","target","anchorEl","closest","isButton","classList","contains","isPrev","setPageIndex","disabled","$087e10b062fdf91b$var$scrollToAnchor","dataIndex","parseInt","dataset","newIndex","$087e10b062fdf91b$var$gallery","querySelector","scrollIntoView","behavior","block","inline","$e4aae32cc10e173d$export$61abde59b50deb8e","$e4aae32cc10e173d$export$a9861bd62f48e142","$e053999f534376c9$export$21666b427502ea6d","form","searchInput","gallery","clearBtn","yearSelectEl","getElementById","paginationContainer","genreSelectEl","$b3SuP","$7a6b00a54970495b$export$ebdddf351d9dc415","currentPage","data","get","headers","Authorization","accept","error","Notify","failure","$7a6b00a54970495b$export$c7eae9ef3fea9888","movies","map","movie","release_date","join","$7a6b00a54970495b$var$noMovie","$7a6b00a54970495b$export$40ef33f78a23b708","result","addingMovies","results","total_results","console","$7a6b00a54970495b$var$initGalleryOfWeek","catalog","closestId","movieId","onOpenModalFilmById","Math","min","props","total_pages","$e0qAQ","$3OIsu","$bh4hP","$78fe2973ed2fbe55$export$94b3db241f8f748e","markup","posterStyle","fetchTrendingMoviesByDay","title","overview","backdrop_path","vote_average","floor","random","posterUrl","innerWidth","heroRefs","heroContainer","trailerBtn","onTrailerBtnClick","movieInfoBtn","toggle","$170nP","$8nTeF","$2eUFK","$ec8a3b4d967c5bee$var$formData","$ec8a3b4d967c5bee$var$yearParam","$ec8a3b4d967c5bee$var$years","year","push","name","$ec8a3b4d967c5bee$var$yearSelect","select","evt","value","genres","$ec8a3b4d967c5bee$var$genresSelect","$ec8a3b4d967c5bee$var$noMovie","$ec8a3b4d967c5bee$var$fetchMoviesSearch","$ec8a3b4d967c5bee$var$searchMovie","$ec8a3b4d967c5bee$var$initSearchMovie","childNodes","filter","forEach","remove","split","includes","add","event","preventDefault","trim"],"version":3,"file":"catalog.03c5c804.js.map"}