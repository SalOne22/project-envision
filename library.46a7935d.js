!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},l={},d={},n=t.parcelRequire34ff;null==n&&((n=function(e){if(e in l)return l[e].exports;if(e in d){var t=d[e];delete d[e];var n={id:e,exports:{}};return l[e]=n,t.call(n.exports,n,n.exports),n.exports}var a=Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){d[e]=t},t.parcelRequire34ff=n),n("i8Q71"),n("j55CI");var a=n("6sNo0"),i=n("kV76N"),s=n("14Rx2"),o=n("aBmqH"),r=n("16wVm"),f=n("lbGsy"),c=n("4DnXZ"),u=n("XcJ0g"),v=n("kvC6y");let g=1;function E(e){(0,f.default).moviesListEl.insertAdjacentHTML("beforeend",e.map(a.default).join("")),f.default.moviesListEl.dataset.page=g,(0,s.default)()}async function h(){let e=await (0,v.default)((0,o.loadMovies)(9));if(0===e.length){(0,f.default).emptyLibEl.classList.remove("is-hidden"),(0,f.default).libCatalogEl.classList.add("is-hidden");return}e.length<9&&(0,f.default).loadMoreBtnEl.classList.add("is-hidden"),E(e);let t=document.querySelector(".list-movie-card.js-gallery");t.addEventListener("click",e=>{let t=e.target.closest(".m-modal");if(!t)return;let l=t.dataset.id;(0,r.onOpenModalFilmById)(l)})}function L(e){let t=f.default.moviesListEl.childNodes,l=e.target.value;"-1"===l?t.forEach(e=>e.classList.remove("is-hidden")):t.forEach(e=>{e.dataset.genres.split(",").includes(l)?e.classList.remove("is-hidden"):e.classList.add("is-hidden")})}async function m(){!function(){f.default.genresSelectEl.customSelect.value="-1";let e=new Event("change");(0,f.default).genresSelectEl.dispatchEvent(e)}();let e=await (0,v.default)((0,o.loadMovies)(9,g));e.length<9&&(0,f.default).loadMoreBtnEl.classList.add("is-hidden"),g+=1,E(e)}window.addEventListener("DOMContentLoaded",function(){(0,i.default)(e(u).genres,f.default.genresSelectEl),h();let t=e(c)(f.default.genresSelectEl)[0];t.select.addEventListener("change",L),(0,f.default).loadMoreBtnEl.addEventListener("click",m)}),n("bf8lc"),n("cs2b8")}();
//# sourceMappingURL=library.46a7935d.js.map
