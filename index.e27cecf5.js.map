{"mappings":"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","sources":["<anon>","src/index.js","src/js/home_page/index.js","src/js/home_page/section_upcoming.js","src/js/api/upcomingAPI.js","src/js/markup/upcomingMarkup.js","src/js/home_page/weekly_trends.js","src/js/refs/weekly_trends-refs.js","src/js/api/weekly_trends-api.js"],"sourcesContent":["function $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\nvar $parcel$global =\ntypeof globalThis !== 'undefined'\n  ? globalThis\n  : typeof self !== 'undefined'\n  ? self\n  : typeof window !== 'undefined'\n  ? window\n  : typeof global !== 'undefined'\n  ? global\n  : {};\nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequire34ff\"];\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequire34ff\"] = parcelRequire;\n}\nparcelRequire(\"bUb57\");\nparcelRequire(\"cOOEs\");\n\nvar $7Y9D8 = parcelRequire(\"7Y9D8\");\n\nvar $2shzp = parcelRequire(\"2shzp\");\n\nvar $7Y9D8 = parcelRequire(\"7Y9D8\");\nconst $014346017893c51b$var$BASE_URL = \"https://api.themoviedb.org/3/movie/upcoming\";\nconst $014346017893c51b$var$options = {\n    method: \"GET\",\n    headers: {\n        accept: \"application/json\",\n        Authorization: \"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJjY2FhN2IzMjk5NmM0N2RhMTQxZWI1N2IwZTVjZTQ3NiIsInN1YiI6IjY0N2M5OTdkZTMyM2YzMDEyNzUyM2IzNiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Blrs7t4WoJ6-3sy6A_Vz3twkTCmEg9nM0JyuAHg88WM\"\n    }\n};\nasync function $014346017893c51b$export$2e2bcd8739ae039() {\n    try {\n        const response = await (0, $2shzp.default).get($014346017893c51b$var$BASE_URL, $014346017893c51b$var$options);\n        return response.data;\n    } catch (error) {\n        console.error(error);\n        (0, $7Y9D8.Notify).failure(\"Oops! Something went wrong. Try again, please!\");\n    }\n}\n\n\n\nvar $2eUFK = parcelRequire(\"2eUFK\");\n\nvar $8Emoy = parcelRequire(\"8Emoy\");\nconst $65213d0054f6b397$var$MAX_NUMBER_OF_GENRES = 2;\nlet $65213d0054f6b397$var$genresNames = \"\";\nconst $65213d0054f6b397$var$genresArray = (0, (/*@__PURE__*/$parcel$interopDefault($2eUFK))).genres;\nconst $65213d0054f6b397$var$upcoming = document.querySelector(\".upcoming\");\nfunction $65213d0054f6b397$export$2e2bcd8739ae039({ results: results  }) {\n    const randomIndex = Math.floor(Math.random() * results.length);\n    const { backdrop_path: backdrop_path , genre_ids: genre_ids , id: id , overview: overview , popularity: popularity , release_date: release_date , title: title , vote_average: vote_average , vote_count: vote_count  } = results[randomIndex];\n    $65213d0054f6b397$var$convertGenresToNames(genre_ids, $65213d0054f6b397$var$genresArray);\n    $65213d0054f6b397$var$upcoming.innerHTML = `<div class=\"container\">\n    <h2 class=\"upcoming__section-title\">UPCOMING THIS MONTH</h2>\n    <div class=\"upcoming__block\">\n      <div class=\"upcoming__poster\">\n        <img\n          class=\"upcoming__picture\"\n          src=\"https://image.tmdb.org/t/p/original${backdrop_path}\"\n          alt=\"${title}\"\n        />\n      </div>\n      <div class=\"upcoming__info\">\n        <h3 class=\"upcoming__title\">${title}</h3>\n        <ul class=\"list upcoming__list-info\">\n          <li class=\"upcoming__list-info--left\">\n            <div class=\"upcoming__release-date\">\n              <p class=\"upcoming__release-date--title\">Release date</p>\n              <p class=\"upcoming__release-date--value\">${release_date}</p>\n            </div>\n            <div class=\"upcoming__vote\">\n              <p class=\"upcoming__vote--title\">Vote / Votes</p>\n              <p class=\"upcoming__vote--value\">\n                <span class=\"upcoming__vote--value-average\">${vote_average}</span> /\n                <span class=\"upcoming__vote--value-count\">${vote_count}</span>\n              </p>\n            </div>\n          </li>\n          <li class=\"upcoming__list-info--right\">\n            <div class=\"upcoming__popularity\">\n              <p class=\"upcoming__popularity--title\">Popularity</p>\n              <p class=\"upcoming__popularity--value\">${popularity}</p>\n            </div>\n            <div class=\"upcoming__genre\">\n              <p class=\"upcoming__genre--title\">Genre</p>\n              <p class=\"upcoming__genre--value\">${$65213d0054f6b397$var$genresNames}</p>\n            </div>\n          </li>\n        </ul>\n        <h4 class=\"upcoming__about\">About</h4>\n        <p class=\"upcoming__overview\">${overview}</p>\n        <button class=\"upcoming__addToLibrary-button\" type=\"button\" data-id=\"${id}\" id=\"addToMyLibrary\">\n        Add to my library\n        </button>\n        </div>\n      </div>\n    </div>`;\n    $65213d0054f6b397$var$connectLibraryBtn();\n}\nfunction $65213d0054f6b397$var$connectLibraryBtn() {\n    const upcomingBtn = document.querySelector(\"#addToMyLibrary\");\n    (0, $8Emoy.default)(upcomingBtn);\n// upcomingBtn.addEventListener('click', functionAddToMyLibrary);\n// console.log(upcomingBtn);\n}\nfunction $65213d0054f6b397$var$convertGenresToNames(array, arrayOfObjects) {\n    let genresNamesArray = [];\n    array.forEach((code)=>{\n        arrayOfObjects.forEach((number)=>{\n            if (code === number.id) genresNamesArray.push(number.name);\n        });\n    });\n    if (genresNamesArray.length > $65213d0054f6b397$var$MAX_NUMBER_OF_GENRES) $65213d0054f6b397$var$genresNames = `${genresNamesArray[0]} and others...`;\n    else if (genresNamesArray.length === $65213d0054f6b397$var$MAX_NUMBER_OF_GENRES) $65213d0054f6b397$var$genresNames = `${genresNamesArray[0]}, ${genresNamesArray[1]}`;\n    else $65213d0054f6b397$var$genresNames = `${genresNamesArray[0]}`;\n}\n\n\n(0, $014346017893c51b$export$2e2bcd8739ae039)().then((data)=>{\n    (0, $65213d0054f6b397$export$2e2bcd8739ae039)(data);\n}).catch((error)=>{\n    console.error(error);\n    (0, (/*@__PURE__*/$parcel$interopDefault($7Y9D8))).Notify.failure(\"Oops! Something went wrong. Try again, please!\");\n});\n\n\n\nvar $2eUFK = parcelRequire(\"2eUFK\");\n\nvar $hmX5O = parcelRequire(\"hmX5O\");\n\nvar $76tat = parcelRequire(\"76tat\");\nconst $4777614771d883b0$var$refs = {\n    movieList: document.querySelector(\".list-movie-card\")\n};\nvar $4777614771d883b0$export$2e2bcd8739ae039 = $4777614771d883b0$var$refs;\n\n\n\nvar $2shzp = parcelRequire(\"2shzp\");\nconst $b75701be9be22e0d$var$BASE_URL = \"https://api.themoviedb.org/3\";\nconst $b75701be9be22e0d$var$options = {\n    headers: {\n        Authorization: \"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJkMmFhZDQ4MjlkYjI1ZWQ1Mjc0NmY0NmY4YzQ1NzRlYSIsInN1YiI6IjY0NzIzZDc3OWFlNjEzMDBjNGM3NmY1NCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.v_Pd0M6hpO0qy1_8-nNBGtFxbeHjE8i8mgfszlHvjZc\",\n        accept: \"application/json\"\n    }\n};\nasync function $b75701be9be22e0d$export$4b803734ecc5669c(page = 1) {\n    try {\n        const response = await (0, $2shzp.default).get(`${$b75701be9be22e0d$var$BASE_URL}/trending/movie/week?language=en-US&page=${page}`, $b75701be9be22e0d$var$options);\n        return response.data;\n    } catch (error) {\n        console.error(error);\n    }\n}\n\n\n\nvar $b3SuP = parcelRequire(\"b3SuP\");\nconst $0861ddada659e38e$var$MAX_MOVIES_IN_SECTION = 3;\nif ((0, $4777614771d883b0$export$2e2bcd8739ae039).movieList) {\n    const genresObject = {};\n    (0, (/*@__PURE__*/$parcel$interopDefault($2eUFK))).genres.forEach((genre)=>{\n        genresObject[genre.id] = genre.name;\n    });\n    $0861ddada659e38e$var$handlerMoviesWeek(genresObject);\n}\nfunction $0861ddada659e38e$var$handlerMoviesWeek(genresObject) {\n    (0, $b75701be9be22e0d$export$4b803734ecc5669c)().then((data)=>{\n        $0861ddada659e38e$var$createMarkupMovies(data, genresObject);\n    }).catch((err)=>console.error(err));\n}\nfunction $0861ddada659e38e$var$createMarkupMovies({ results: results  }, genresObject) {\n    const randomIndexes = $0861ddada659e38e$var$getRandomMovieToShow(results);\n    const moviesToShow = randomIndexes.map((index)=>results[index]);\n    $0861ddada659e38e$var$markupMovie(moviesToShow, genresObject);\n}\nfunction $0861ddada659e38e$var$markupMovie(moviesToShow) {\n    (0, $4777614771d883b0$export$2e2bcd8739ae039).movieList.innerHTML = moviesToShow.map((0, $hmX5O.default)).join(\"\");\n    (0, $76tat.default)();\n    // START Добавляем слушателя для открытия модалки\n    const catalog = document.querySelector(\".list-movie-card.js-gallery\");\n    catalog.addEventListener(\"click\", (e)=>{\n        const closestId = e.target.closest(\".m-modal\");\n        if (!closestId) return;\n        const movieId = closestId.dataset.id;\n        (0, $b3SuP.onOpenModalFilmById)(movieId);\n    });\n// END\n}\nfunction $0861ddada659e38e$var$getRandomMovieToShow(results) {\n    const randomIndexes = [];\n    while(randomIndexes.length < $0861ddada659e38e$var$MAX_MOVIES_IN_SECTION){\n        const randomIndex = Math.floor(Math.random() * results.length);\n        if (!randomIndexes.includes(randomIndex)) randomIndexes.push(randomIndex);\n    }\n    return randomIndexes;\n}\n\n\n\n\nparcelRequire(\"1Hrz4\");\nparcelRequire(\"5kw5v\");\n\n\n//# sourceMappingURL=index.e27cecf5.js.map\n","import './js/header';\n\nimport './js/home_page';\n\nimport './js/modals';\n\nimport './js/go_to_top_btn';\n","import '../components/Hero/Hero';\nimport './section_upcoming';\nimport './weekly_trends';\n","import Notiflix from 'notiflix';\nimport getUpcomingMovies from '../api/upcomingAPI';\nimport markupUpcomingMovies from '../markup/upcomingMarkup';\n\ngetUpcomingMovies()\n  .then(data => {\n    markupUpcomingMovies(data);\n  })\n  .catch(error => {\n    console.error(error);\n    Notiflix.Notify.failure('Oops! Something went wrong. Try again, please!');\n  });\n","import axios from 'axios';\nimport { Notify } from 'notiflix';\n\nconst BASE_URL = 'https://api.themoviedb.org/3/movie/upcoming';\nconst options = {\n  method: 'GET',\n  headers: {\n    accept: 'application/json',\n    Authorization:\n      'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJjY2FhN2IzMjk5NmM0N2RhMTQxZWI1N2IwZTVjZTQ3NiIsInN1YiI6IjY0N2M5OTdkZTMyM2YzMDEyNzUyM2IzNiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Blrs7t4WoJ6-3sy6A_Vz3twkTCmEg9nM0JyuAHg88WM',\n  },\n};\n\nexport default async function getUpcomingMovies() {\n  try {\n    const response = await axios.get(BASE_URL, options);\n    return response.data;\n  } catch (error) {\n    console.error(error);\n    Notify.failure('Oops! Something went wrong. Try again, please!');\n  }\n}\n","import genres from '../genres.json';\nimport initAddToLibraryBtn from '../utils/initAddToLibraryBtn';\n\nconst MAX_NUMBER_OF_GENRES = 2;\n\nlet genresNames = '';\nconst genresArray = genres.genres;\nconst upcoming = document.querySelector('.upcoming');\n\n// export { markupUpcomingMovies, connectLibraryBtn, convertGenresToNames };\n\nexport default function markupUpcomingMovies({ results }) {\n  const randomIndex = Math.floor(Math.random() * results.length);\n  const {\n    backdrop_path,\n    genre_ids,\n    id,\n    overview,\n    popularity,\n    release_date,\n    title,\n    vote_average,\n    vote_count,\n  } = results[randomIndex];\n\n  convertGenresToNames(genre_ids, genresArray);\n\n  upcoming.innerHTML = `<div class=\"container\">\n    <h2 class=\"upcoming__section-title\">UPCOMING THIS MONTH</h2>\n    <div class=\"upcoming__block\">\n      <div class=\"upcoming__poster\">\n        <img\n          class=\"upcoming__picture\"\n          src=\"https://image.tmdb.org/t/p/original${backdrop_path}\"\n          alt=\"${title}\"\n        />\n      </div>\n      <div class=\"upcoming__info\">\n        <h3 class=\"upcoming__title\">${title}</h3>\n        <ul class=\"list upcoming__list-info\">\n          <li class=\"upcoming__list-info--left\">\n            <div class=\"upcoming__release-date\">\n              <p class=\"upcoming__release-date--title\">Release date</p>\n              <p class=\"upcoming__release-date--value\">${release_date}</p>\n            </div>\n            <div class=\"upcoming__vote\">\n              <p class=\"upcoming__vote--title\">Vote / Votes</p>\n              <p class=\"upcoming__vote--value\">\n                <span class=\"upcoming__vote--value-average\">${vote_average}</span> /\n                <span class=\"upcoming__vote--value-count\">${vote_count}</span>\n              </p>\n            </div>\n          </li>\n          <li class=\"upcoming__list-info--right\">\n            <div class=\"upcoming__popularity\">\n              <p class=\"upcoming__popularity--title\">Popularity</p>\n              <p class=\"upcoming__popularity--value\">${popularity}</p>\n            </div>\n            <div class=\"upcoming__genre\">\n              <p class=\"upcoming__genre--title\">Genre</p>\n              <p class=\"upcoming__genre--value\">${genresNames}</p>\n            </div>\n          </li>\n        </ul>\n        <h4 class=\"upcoming__about\">About</h4>\n        <p class=\"upcoming__overview\">${overview}</p>\n        <button class=\"upcoming__addToLibrary-button\" type=\"button\" data-id=\"${id}\" id=\"addToMyLibrary\">\n        Add to my library\n        </button>\n        </div>\n      </div>\n    </div>`;\n  connectLibraryBtn();\n}\n\nfunction connectLibraryBtn() {\n  const upcomingBtn = document.querySelector('#addToMyLibrary');\n  initAddToLibraryBtn(upcomingBtn);\n  // upcomingBtn.addEventListener('click', functionAddToMyLibrary);\n  // console.log(upcomingBtn);\n}\n\nfunction convertGenresToNames(array, arrayOfObjects) {\n  let genresNamesArray = [];\n\n  array.forEach(code => {\n    arrayOfObjects.forEach(number => {\n      if (code === number.id) {\n        genresNamesArray.push(number.name);\n      }\n    });\n  });\n\n  if (genresNamesArray.length > MAX_NUMBER_OF_GENRES) {\n    genresNames = `${genresNamesArray[0]} and others...`;\n  } else if (genresNamesArray.length === MAX_NUMBER_OF_GENRES) {\n    genresNames = `${genresNamesArray[0]}, ${genresNamesArray[1]}`;\n  } else {\n    genresNames = `${genresNamesArray[0]}`;\n  }\n}\n","import genres from '../genres.json';\nimport movieCardMarkup from '../markup/movieCardMarkup';\nimport initRatings from '../utils/initRating';\nimport refs from '../refs/weekly_trends-refs';\nimport { getTrendingMoviesByWeek } from '../api/weekly_trends-api';\nimport { onOpenModalFilmById } from '../modals/modal_film.js';\n\nconst MAX_MOVIES_IN_SECTION = 3;\n\nif (refs.movieList) {\n  const genresObject = {};\n  genres.genres.forEach(genre => {\n    genresObject[genre.id] = genre.name;\n  });\n  handlerMoviesWeek(genresObject);\n}\n\nfunction handlerMoviesWeek(genresObject) {\n  getTrendingMoviesByWeek()\n    .then(data => {\n      createMarkupMovies(data, genresObject);\n    })\n    .catch(err => console.error(err));\n}\nfunction createMarkupMovies({ results }, genresObject) {\n  const randomIndexes = getRandomMovieToShow(results);\n  const moviesToShow = randomIndexes.map(index => results[index]);\n  markupMovie(moviesToShow, genresObject);\n}\n\nfunction markupMovie(moviesToShow) {\n  refs.movieList.innerHTML = moviesToShow.map(movieCardMarkup).join('');\n  initRatings();\n\n  // START Добавляем слушателя для открытия модалки\n  const catalog = document.querySelector('.list-movie-card.js-gallery');\n  catalog.addEventListener('click', e => {\n    const closestId = e.target.closest('.m-modal');\n    if (!closestId) return;\n    const movieId = closestId.dataset.id;\n    onOpenModalFilmById(movieId);\n  });\n  // END\n}\n\nfunction getRandomMovieToShow(results) {\n  const randomIndexes = [];\n  while (randomIndexes.length < MAX_MOVIES_IN_SECTION) {\n    const randomIndex = Math.floor(Math.random() * results.length);\n    if (!randomIndexes.includes(randomIndex)) {\n      randomIndexes.push(randomIndex);\n    }\n  }\n  return randomIndexes;\n}\n","const refs = {\n  movieList: document.querySelector('.list-movie-card'),\n};\nexport default refs;\n","import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst options = {\n  headers: {\n    Authorization:\n      'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJkMmFhZDQ4MjlkYjI1ZWQ1Mjc0NmY0NmY4YzQ1NzRlYSIsInN1YiI6IjY0NzIzZDc3OWFlNjEzMDBjNGM3NmY1NCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.v_Pd0M6hpO0qy1_8-nNBGtFxbeHjE8i8mgfszlHvjZc',\n    accept: 'application/json',\n  },\n};\nexport async function getTrendingMoviesByWeek(page = 1) {\n  try {\n    const response = await axios.get(\n      `${BASE_URL}/trending/movie/week?language=en-US&page=${page}`,\n      options\n    );\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n}\n"],"names":["$parcel$interopDefault","a","__esModule","default","$parcel$global","globalThis","self","window","global","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","$7Y9D8","$2shzp","$014346017893c51b$var$options","method","headers","accept","Authorization","$014346017893c51b$export$2e2bcd8739ae039","response","get","data","error","console","Notify","failure","$2eUFK","$8Emoy","$65213d0054f6b397$var$genresNames","$65213d0054f6b397$var$genresArray","genres","$65213d0054f6b397$var$upcoming","document","querySelector","then","results","genresNamesArray","randomIndex","Math","floor","random","length","backdrop_path","genre_ids","overview","popularity","release_date","title","vote_average","vote_count","array","forEach","arrayOfObjects","number","push","name","innerHTML","$65213d0054f6b397$var$connectLibraryBtn","upcomingBtn","catch","$hmX5O","$76tat","$4777614771d883b0$var$refs","movieList","$b75701be9be22e0d$var$options","$b75701be9be22e0d$export$4b803734ecc5669c","page","$b3SuP","genresObject","genre","$0861ddada659e38e$var$handlerMoviesWeek","$0861ddada659e38e$var$createMarkupMovies","randomIndexes","$0861ddada659e38e$var$getRandomMovieToShow","includes","moviesToShow","map","index","$0861ddada659e38e$var$markupMovie","join","catalog","addEventListener","e","closestId","target","closest","movieId","dataset","onOpenModalFilmById"],"version":3,"file":"index.e27cecf5.js.map"}